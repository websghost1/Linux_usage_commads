find /path/to/dir -name "filename"

#הסבר:
find מפעיל את החיפוש.
‎/path/to/dir‎ הוא הנתיב שממנו מתחילים.
-name הוא תנאי שאומר לחפש לפי שם.
‎"filename"‎ הוא שם הקובץ שאתה מחפש.

דוגמה פשוטה אמיתית
find / -name "cbs-nix.tar"

זה יחפש בכל המערכת קובץ בשם הזה.


# דוגמה לחיפוש תיקייה בלבד
אם אתה רוצה למצוא רק תיקיות בשם מסוים, ולא קבצים, השתמש בתנאי שמציין סוג.

find /path/to/dir -type d -name "foldername"

פירוט קצר
-type d מגביל את החיפוש לתיקיות בלבד.
-name "foldername" מחפש תיקייה בשם הזה.

דוגמה
find /mnt -type d -name "Backup-2025-11-16"



#דוגמה למחיקה של קבצים שנמצאו עם find
לפעמים רוצים לא רק למצוא קבצים, אלא גם לבצע עליהם פעולה. למשל למחוק.
עם find אפשר להוסיף פעולה דרך ‎-exec‎.

דוגמה
find /path -name "filename" -exec rm -f {} ;

פירוט קצר
-exec מפעיל פקודה על כל תוצאה שנמצאה.
rm -f מוחק כל קובץ בכוח.
{} הוא המקום שבו find מכניס את שם הקובץ שמצא.
‎;‎ סוגר את הפעולה.

דוגמה אמיתית
find /mnt/backup -name "*.tmp" -exec rm -f {} ;

זה יאתר כל קובץ שמסתיים ב-tmp בתוך כל עץ התיקיות ומוחק אותו.



#דוגמה לחיפוש לפי גודל קובץ
הפקודה find יכולה למצוא קבצים גדולים או קטנים לפי הגדרה.

דוגמה
find /path -size +1G

פירוט קצר
-size מגדיר חיפוש לפי גודל.
+1G אומר גדול מ־1 גיגה.
-1G היה אומר קטן מ־1 גיגה.
1G בלי + או - זה בדיוק 1 גיגה.

דוגמה אמיתית
find /mnt/_backup -size +5G

זה יציג כל קובץ מעל 5 גיגה בגיבויים שלך.


#חיפוש לפי תאריך שינוי
אפשר למצוא קבצים ששונו ב־n ימים אחרונים או לפני n ימים.

דוגמה כללית
find /var/log -mtime -3

פירוט
-mtime -3 אומר קבצים ששונו ב־3 ימים אחרונים.
-mtime +3 היה אומר קבצים ששונו לפני יותר מ־3 ימים.
find /var/log הוא רק נתיב לדוגמה.

דוגמה נוספת
find /home -mtime +10

זה יחפש קבצים שלא נגעו בהם יותר מ־10 ימים בבית המשתמשים.
הדוגמה כללית לחלוטין.

#חיפוש לפי סוג קובץ
אפשר לחפש רק קבצים, רק תיקיות, רק קישורים וכדומה.

דוגמאות כלליות
find /path -type f
מחפש קבצים בלבד.

find /path -type d
מחפש תיקיות בלבד.

find /path -type l
מחפש קישורים סימבוליים בלבד.

פירוט קצר
-type f זה file.
-type d זה directory.
-type l זה link.

דוגמה כללית לשילוב
find /etc -type f -name "*.conf"

מחפש כל קובץ שמסתיים ב־.conf בתוך /etc.




#חיפוש לפי הרשאות
הפקודה find יכולה לאתר קבצים לפי ההרשאות שלהם. זה שימושי כשמחפשים קבצים מסוכנים עם הרשאות מוגזמות.

דוגמה כללית
find /path -perm 777

פירוט
-perm 777 מחפש קבצים או תיקיות שכל המשתמשים יכולים לקרוא, לכתוב ולבצע.
זה מאפשר לאתר בעיות אבטחה.

דוגמה כללית נוספת
find /var/www -type f -perm 644

מחפש קבצי אתר שצריכים הרשאות רגילות בלבד.

שילוב עם פעולה
find /var/log -type f -perm 600 -exec chmod 640 {} ;

הסבר קצר
הפקודה מוצאת לוגים שמוגדרים להרשאות 600 ומשנה אותם ל־640.



#חיפוש לפי דפוס (Pattern) עם ‎-regex
הפקודה find מאפשרת חיפוש מתקדם לפי ביטוי רגולרי. זה שימושי כשצריך חיפוש מורכב יותר מ־-name.

דוגמה כללית
find /path -regex ".*[0-9]{4}-report.txt"

פירוט קצר
-regex מאפשר לחפש לפי תבנית מורכבת.
הביטוי כאן אומר: כל קובץ שמסתיים ב־report.txt ומכיל 4 ספרות לפני כן.
.* אומר כל נתיב או שם.
[0-9]{4} אומר בדיוק ארבע ספרות.

דוגמה פשוטה יותר
find /path -regex ".*.log"

מחפש כל מה שמסתיים ב־.log, בדומה ל־-name "*.log", אבל בצורה גמישה יותר.

דוגמה נוספת
find /home -regex ".*/backup_[0-9]+.tar"

מחפש קבצי גיבוי בשם backup_מספר.tar.



#חיפוש לפי בעלות על קובץ
אפשר לאתר קבצים לפי המשתמש או הקבוצה שלהם. זה שימושי במיוחד בבדיקות הרשאות וביקורת מערכת.

דוגמה כללית
find /path -user root

פירוט
-user root מחפש קבצים שהתיקייה או הקובץ שייכים למשתמש root.
הפקודה עוברת על כל העץ ומחזירה רק מה שבבעלות המשתמש הזה.

דוגמה לפי קבוצה
find /srv -group www-data

מחפש קבצים ששייכים לקבוצת www-data, למשל קבצי אתר.

שילוב: חיפוש קבצים של root שמסתיימים ב־.log
find /var/log -user root -name "*.log"

פירוט קצר
הפקודה מחפשת לוגים רלוונטיים שמנוהלים על ידי root בלבד.


#מציאת קבצים ותיקיות ריקים
כדי למצוא כל קובץ או תיקייה שאין בהם שום תוכן, משתמשים באופציה ‎-empty.

דוגמה כללית
find /path -empty

פירוט קצר
find מפעיל את החיפוש.
‎/path‎ הוא הנתיב שממנו מתחילים.
-empty מחפש קבצים או תיקיות בלי תוכן.



#דילוג על תיקיות בזמן חיפוש
כדי להגיד ל-find לדלג על תיקייה מסוימת ולא להיכנס אליה בכלל, משתמשים ב-prune.

דוגמה כללית
find /path -path "/path/to/skip" -prune -o -type f -print

פירוט קצר
-path "/path/to/skip" אומר ל-find לזהות את התיקייה שאתה רוצה לדלג עליה.
-prune אומר לא להיכנס אליה.
-o אומר אחרת (כל מה שלא התיקייה הזאת).
-type f -print אומר להציג את כל הקבצים הרגילים שנמצאו בכל שאר המקומות.

דוגמא:
find /var -path "/var/cache" -prune -o -name "*.log" -print
זה מדלג על ‎/var/cache‎ ומראה רק קבצי ‎.log‎ מהשאר.


#מציאת קבצים שנוצרו ב־24 שעות האחרונות
כדי למצוא קבצים שנוצרו או שונו ביממה האחרונה משתמשים ב־mtime או ב־ctime.

הפקודה הפשוטה ביותר
find /path -mtime -1

פירוט קצר
-mtime -1 אומר קבצים ששונו במהלך 24 השעות האחרונות.
‎/path‎ הוא נתיב החיפוש.

דוגמה שימושית
find /var/log -mtime -1
זה יחפש לוגים ששונו היום.

אם אתה רוצה על פי זמן יצירה (creation time), משתמשים ב־ctime:
find /path -ctime -1

עוד דוגמא
find /path -empty
מוצא קבצים ותיקיות ריקים.

find /path -path "/folder/to/skip" -prune -o -print
מדלג על תיקייה מסוימת.

find /path -mtime -1
מוצא קבצים שנוצרו או שונו ב־24 שעות האחרונות.
